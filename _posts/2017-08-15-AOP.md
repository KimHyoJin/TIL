---
layout: post
title: AOP에 대하여
---

스프링의 3대장이 DI, AOP, 그리고 POJO이다. 이중 AOP에 대해 알아보자.   
## AOP란?
Aspect Oriented Programming의 줄임말이다. 스프링에서는 Bean을 사용하여 객체를 효과적으로 주입하고 관리함을 알고 있을 것이다. 그런데 절차지향처럼 순서가 필요한 경우는 어떡할까?    
즉, 기존의 스프링에서 지향하는 OOP의 경우 레고조립과 비슷하다. 필요에 의해 bean을 주입하여 원하는 프로그래밍을 할 수있다. 그런데 레고 모형 조립시 완성 전후로 A라는 행동을 지속적으로 해주어야 한다 가정하자. 예를 들어 현재까지 완성된 레고의 모습을 사진으로 찍어야한다고 하자. 그럼 어떻게 구현해야할까? 사진찍는 것을 빈으로 만들어서 레고 모형 조립 전후로 주입을 해주어야할까? 전후임을 어떻게 알까? 빈 자체에 코드를 삽입해줄까? 그러면 코드 중복이 너무 많이 발생한다.    
AOP는 이를 위한 것이다. 공통된 관심을 하나로 묶어서 로직사이에 끼워준다.

![AOP](../public/img/aop-after.jpg)

[AOP 설명 그림](http://cfs13.tistory.com/image/28/tistory/2009/06/17/14/18/4a387cb462407)

위 그림을 보면 module1, module2, module3이 모두 logging, security, transaction의 기능이 필요함을 알 수 있다. 각각의 모듈에 해당 코드를 삽입하기에는 코드중복이 많이 일어나므로, AOP를 사용하여 횡단 관심사를 묶어서 관리하는 것이다.

## AOP의 구현
그렇다면 AOP를 어떻게 사용할까? 오늘 프로젝트를 통해 구현한 내용을 바탕으로 설명하도록 하겠다. AOP의 사용 목적은, Controller 시작 앞뒤에 logging을 남기고자 하는 것이다.     
(controller 전후로 액션을 취하고자 한다면 interceptor를 사용해도 무방하다. 왜냐하면 interceptor는 controller를 앞에 위치하여 request를 controller에게 전달해주고 controller로부터 response를 받는다.)    
